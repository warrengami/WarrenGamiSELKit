<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SEL Data Review & Export</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Atkinson Hyperlegible', sans-serif; background: #f7f9fc; margin: 0; padding: 2em; }
        main { max-width: 900px; margin: auto; background: #fff; border-radius: 12px; box-shadow: 0 4px 24px rgba(0,0,0,0.08); padding: 2em; }
        h1 { color: #0f2c4d; font-family: 'Poppins', sans-serif; }
        table { width: 100%; border-collapse: collapse; margin-top: 1em; }
        th, td { border: 1px solid #e0e6ed; padding: 0.5em; text-align: left; }
        th { background: #f7f9fc; }
        button { background: #73bdf5; color: #fff; border: none; border-radius: 6px; padding: 0.7em 2em; font-size: 1em; cursor: pointer; margin-top: 1.5em; }
        button:hover { background: #0f2c4d; }
    </style>
</head>
<body>
<main>
    <h1>SEL Data Review & Export</h1>
    <button id="export-csv">Export to CSV</button>
    <table id="sel-data-table">
        <thead>
            <tr>
                <th>Name</th><th>Date</th><th>Naming Emotions</th><th>Calming</th><th>Understanding Others</th><th>Solving Conflicts</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</main>
<script>
function renderTable() {
    const data = JSON.parse(localStorage.getItem('selToolkit-selData') || '[]');
    const tbody = document.querySelector('#sel-data-table tbody');
    tbody.innerHTML = '';
    data.forEach(entry => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${entry.name}</td><td>${entry.date}</td><td>${entry.namingEmotions}</td><td>${entry.calming}</td><td>${entry.understandingOthers}</td><td>${entry.solvingConflicts}</td>`;
        tbody.appendChild(tr);
    });
}
document.getElementById('export-csv').onclick = function() {
    const data = JSON.parse(localStorage.getItem('selToolkit-selData') || '[]');
    let csv = 'Name,Date,Naming Emotions,Calming,Understanding Others,Solving Conflicts\n';
    data.forEach(entry => {
        csv += `"${entry.name}","${entry.date}","${entry.namingEmotions}","${entry.calming}","${entry.understandingOthers}","${entry.solvingConflicts}"\n`;
    });
    const blob = new Blob([csv], {type:'text/csv'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'sel-data.csv';
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
};
renderTable();
</script>
</body>
</html> 