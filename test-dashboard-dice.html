<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard-Aligned Dice Test - WarrenGami SEL</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --warren-blue: #1e3a5f;
            --warren-light-blue: #4a90e2;
            --paper-white: #fefefe;
            --ice-white: #f8fbff;
            --crane-blue: #87ceeb;
            --soft-blue: #b8d4f0;
            --accent-blue: #6bb6ff;
            --shadow-blue: rgba(30, 58, 95, 0.15);
            --glow-blue: rgba(106, 182, 255, 0.3);
            --text-dark: #2c3e50;
            --text-muted: #6c757d;
            --success-green: #28a745;
            --warning-orange: #fd7e14;
            --tag-awareness: #ffc107;
            --tag-management: #28a745;
            --tag-social: #17a2b8;
            --tag-relationship: #fd7e14;
            --tag-decision: #6f42c1;
            --card-shadow: 0 4px 20px rgba(30, 58, 95, 0.1);
            --card-hover-shadow: 0 8px 30px rgba(30, 58, 95, 0.2);
            --section-gradient: linear-gradient(135deg, rgba(106, 182, 255, 0.05) 0%, rgba(74, 144, 226, 0.05) 100%);
            --header-gradient: linear-gradient(135deg, var(--soft-blue), var(--ice-white));
            --grid-gutter: 1.5rem;
            --card-border-radius: 16px;
            --section-border-radius: 20px;
            --section-padding: 2rem;
            --card-spacing: 1.5rem;
            --header-content-gap: 1.5rem;
            --chip-padding: 0.5rem 0.75rem;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--warren-blue) 0%, #2c5aa0 50%, var(--warren-light-blue) 100%);
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
            padding: 2rem;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 2rem;
            background: var(--paper-white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 15px 40px var(--shadow-blue);
            position: relative;
            overflow: hidden;
            border: 1px solid var(--soft-blue);
            z-index: 1;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(106, 182, 255, 0.05) 0%, rgba(74, 144, 226, 0.05) 100%);
            pointer-events: none;
        }
        
        .header h1 {
            color: var(--warren-blue);
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--warren-blue), var(--warren-light-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            position: relative;
            z-index: 1;
        }
        
        .subtitle {
            color: var(--warren-light-blue);
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            position: relative;
            z-index: 1;
        }
        
        /* Category Selector - Dashboard Aligned */
        .category-selector {
            background: var(--paper-white);
            padding: 1.5rem;
            border-radius: var(--card-border-radius);
            margin-bottom: 1.5rem;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--soft-blue);
            position: relative;
            overflow: hidden;
        }
        
        .category-selector::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--section-gradient);
            pointer-events: none;
        }
        
        .category-selector h3 {
            margin: 0 0 1rem 0;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }
        
        .category-buttons {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
            position: relative;
            z-index: 1;
        }
        
        .category-btn {
            background: var(--ice-white);
            border: 2px solid var(--soft-blue);
            color: var(--text-dark);
            padding: 0.75rem 1.25rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(30, 58, 95, 0.08);
            position: relative;
            overflow: hidden;
        }
        
        .category-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--section-gradient);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(30, 58, 95, 0.15);
            border-color: var(--accent-blue);
        }
        
        .category-btn:hover::before {
            opacity: 1;
        }
        
        .category-btn.active {
            background: linear-gradient(135deg, var(--warren-light-blue), var(--accent-blue));
            color: var(--paper-white);
            border-color: var(--warren-light-blue);
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
        }
        
        /* Enhanced Dice Scene - Dashboard Aligned */
        .dice-scene {
            width: 280px;
            height: 280px;
            perspective: 1200px;
            margin: 0 auto 2rem auto;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .dice {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 20px;
            margin: 0 auto;
        }
        
        .dice.rolling {
            animation: enhanced-dice-roll 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .dice .face {
            position: absolute;
            width: 280px;
            height: 280px;
            background: linear-gradient(135deg, var(--paper-white) 0%, var(--ice-white) 100%);
            padding: 2.5rem;
            box-sizing: border-box;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            line-height: 1.5;
            font-weight: 600;
            color: var(--text-dark);
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(30, 58, 95, 0.15);
            border: 2px solid var(--soft-blue);
            transition: all 0.3s ease;
            backface-visibility: hidden;
            overflow: hidden;
        }
        
        .dice .face:hover {
            box-shadow: 0 12px 35px rgba(30, 58, 95, 0.25);
            transform: scale(1.02);
        }
        
        .face.face-1 { transform: rotateY(0deg) translateZ(140px); }
        .face.face-2 { transform: rotateY(90deg) translateZ(140px); }
        .face.face-3 { transform: rotateY(180deg) translateZ(140px); }
        .face.face-4 { transform: rotateY(-90deg) translateZ(140px); }
        .face.face-5 { transform: rotateX(90deg) translateZ(140px); }
        .face.face-6 { transform: rotateX(-90deg) translateZ(140px); }

        .dice.show-1 { transform: rotateY(0deg); }
        .dice.show-2 { transform: rotateY(-90deg); }
        .dice.show-3 { transform: rotateY(-180deg); }
        .dice.show-4 { transform: rotateY(90deg); }
        .dice.show-5 { transform: rotateX(-90deg); }
        .dice.show-6 { transform: rotateX(90deg); }
        
        /* Lottie Animation Container */
        .lottie-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .lottie-container.visible {
            pointer-events: auto;
            opacity: 1;
        }
        
        /* Prompt Display Inside Cube */
        .prompt-display {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.2rem;
            line-height: 1.4;
            font-weight: 600;
            color: var(--text-dark);
            z-index: 5;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 4px 15px rgba(30, 58, 95, 0.1);
        }
        
        @keyframes enhanced-dice-roll {
            0% { 
                transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1);
            }
            15% { 
                transform: rotateX(180deg) rotateY(90deg) rotateZ(45deg) scale(1.1);
            }
            30% { 
                transform: rotateX(360deg) rotateY(180deg) rotateZ(90deg) scale(1.05);
            }
            45% { 
                transform: rotateX(540deg) rotateY(270deg) rotateZ(135deg) scale(1.15);
            }
            60% { 
                transform: rotateX(720deg) rotateY(360deg) rotateZ(180deg) scale(1.08);
            }
            75% { 
                transform: rotateX(900deg) rotateY(450deg) rotateZ(225deg) scale(1.12);
            }
            90% { 
                transform: rotateX(1080deg) rotateY(540deg) rotateZ(270deg) scale(1.03);
            }
            100% { 
                transform: rotateX(1260deg) rotateY(630deg) rotateZ(315deg) scale(1);
            }
        }
        
        /* Enhanced Control Panel - Dashboard Aligned */
        .control-panel {
            margin-top: 2rem;
            display: flex;
            gap: 1rem;
            position: relative;
            z-index: 10;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .enhanced-btn {
            background: linear-gradient(135deg, var(--warren-blue) 0%, var(--warren-light-blue) 100%);
            color: var(--paper-white);
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(30, 58, 95, 0.2);
            min-width: 140px;
            position: relative;
            overflow: hidden;
        }
        
        .enhanced-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .enhanced-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(30, 58, 95, 0.3);
        }
        
        .enhanced-btn:hover::before {
            opacity: 1;
        }
        
        .enhanced-btn:active {
            transform: translateY(-1px);
        }
        
        .enhanced-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 8px rgba(30, 58, 95, 0.1);
        }
        
        .timer-btn {
            background: linear-gradient(135deg, var(--success-green) 0%, #20c997 100%);
        }
        
        .stop-btn {
            background: linear-gradient(135deg, var(--warning-orange) 0%, #fd7e14 100%);
        }
        
        /* Timer Section - Dashboard Aligned */
        .timer-section {
            margin: 1.5rem auto;
            padding: 1.5rem;
            background: var(--paper-white);
            border-radius: var(--card-border-radius);
            text-align: center;
            max-width: 600px;
            position: relative;
            z-index: 1;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--soft-blue);
            overflow: hidden;
        }
        
        .timer-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--section-gradient);
            opacity: 0.3;
        }
        
        .timer-display {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }
        
        /* Timer Notification - Dashboard Aligned */
        .timer-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--paper-white);
            color: var(--text-dark);
            padding: 2rem;
            border-radius: var(--card-border-radius);
            font-size: 1.5rem;
            font-weight: 600;
            text-align: center;
            box-shadow: 0 15px 40px rgba(30, 58, 95, 0.3);
            z-index: 1000;
            display: none;
            animation: notification-pulse 2s ease-in-out;
            border: 2px solid var(--accent-blue);
        }
        
        @keyframes notification-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
        }
        
        /* Category Tag Badge */
        .category-tag {
            display: inline-block;
            font-size: 0.8rem;
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: var(--paper-white);
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--warren-light-blue), var(--accent-blue));
            box-shadow: 0 2px 8px rgba(74, 144, 226, 0.3);
        }
        
        /* Dice Prompt Box */
        .dice-prompt-container {
            background: linear-gradient(135deg, var(--ice-white) 0%, var(--soft-blue) 100%);
            border-radius: var(--card-border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--card-shadow);
            border: 1px solid var(--soft-blue);
            text-align: center;
            position: relative;
            overflow: hidden;
            max-width: 600px;
            width: 100%;
        }
        
        .dice-prompt-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--section-gradient);
            opacity: 0.2;
        }
        
        .dice-prompt-text {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text-dark);
            line-height: 1.5;
            position: relative;
            z-index: 1;
        }
        
        /* New styles for enhanced dice interface */
        .dice-content-panel {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .help-tooltip {
            background: var(--ice-white);
            color: var(--warren-blue);
            border: 2px solid var(--soft-blue);
            padding: 0.75rem 1.25rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(30, 58, 95, 0.08);
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            font-size: 1.5rem;
            line-height: 1;
        }

        .help-tooltip:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(30, 58, 95, 0.15);
            border-color: var(--accent-blue);
        }

        .help-tooltip:hover::before {
            opacity: 1;
        }

        .progress-tracker {
            background: var(--ice-white);
            border: 2px solid var(--soft-blue);
            border-radius: 12px;
            padding: 0.75rem 1.25rem;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-dark);
            box-shadow: 0 2px 8px rgba(30, 58, 95, 0.08);
            position: relative;
            overflow: hidden;
        }
        
        @media (max-width: 768px) {
            body { padding: 1rem; }
            .header h1 { font-size: 1.8rem; }
            .category-buttons { flex-direction: column; }
            .control-panel { flex-direction: column; align-items: center; }
            .dice-scene { width: 240px; height: 240px; }
            .dice .face { width: 240px; height: 240px; padding: 1.5rem; font-size: 1rem; }
            .face.face-1, .face.face-2, .face.face-3, .face.face-4, .face.face-5, .face.face-6 {
                transform: translateZ(120px);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Dashboard-Aligned Dice Interface</h1>
        <div class="subtitle">WarrenGami SEL - Clean, Modern, and Playful Design</div>
    </div>
    
    <!-- Category Selector -->
    <div class="category-selector">
        <h3>Switch Dice Category</h3>
        <div class="category-buttons">
            <button class="category-btn active" data-category="emotions">Emotions & Feelings</button>
            <button class="category-btn" data-category="empathy">Empathy & Kindness</button>
            <button class="category-btn" data-category="friendship">Friendship & Social Skills</button>
            <button class="category-btn" data-category="coping">Coping Strategies</button>
            <button class="category-btn" data-category="problem-solving">Problem Solving</button>
            <button class="category-btn" data-category="self-awareness">Self-Awareness</button>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Content will be injected here by the dice interface -->
    </main>

    <!-- Timer Section -->
    <div id="timer-section" class="timer-section" style="display: none;">
        <div id="timer-display" class="timer-display">00:00</div>
    </div>

    <!-- Control Panel -->
    <div id="control-panel" class="control-panel">
        <!-- Controls will be injected here -->
    </div>
    
    <!-- Timer Notification -->
    <div class="timer-notification" id="timer-notification">
        <div>Time's Up!</div>
        <div style="font-size: 1rem; margin-top: 10px;">Activity completed</div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js"></script>
    <script>
        // Sample prompts for testing
        const samplePrompts = [
            "How do you feel when someone shares something exciting with you?",
            "What makes you feel proud of yourself?",
            "How do you help a friend who is feeling sad?",
            "What do you do when you feel frustrated?",
            "How do you show kindness to others?",
            "What makes you feel calm and peaceful?",
            "How do you handle disagreements with friends?",
            "What do you do when you need help with something?",
            "How do you celebrate someone else's success?",
            "What helps you feel better when you're worried?"
        ];

        // Initialize the dashboard dice interface
        document.addEventListener('DOMContentLoaded', () => {
            // Create the dice interface with enhanced features
            const diceInterface = `
                <div class="dice-content-panel">
                    <div class="help-tooltip" title="Click for help" onclick="showHelp()">?</div>
                    
                    <div class="progress-tracker" id="progress-tracker">
                        Roll 0 of ${samplePrompts.length} prompts
                    </div>
                    
                    <div class="dice-prompt-container">
                        <div class="category-tag">Emotions & Feelings</div>
                        <div class="dice-prompt-text" id="dice-prompt-text">
                            Click "Roll Dice" to get started
                        </div>
                    </div>
                    
                    <div class="dice-scene">
                        <div class="dice" id="dashboard-dice">
                            ${samplePrompts.slice(0, 6).map((prompt, i) => 
                                `<div class="face face-${i + 1}">
                                    <div class="prompt-display">${prompt}</div>
                                </div>`
                            ).join('')}
                        </div>
                        
                        <!-- Lottie Animation Container -->
                        <div class="lottie-container" id="lottie-container">
                            <div id="lottie-animation"></div>
                        </div>
                    </div>
                    
                    <div id="prompt-result"></div>
                </div>
            `;
            
            document.getElementById('main-content').innerHTML = diceInterface;
            
            // Create control panel
            const controlHTML = `
                <button class="enhanced-btn" onclick="rollDice()">Roll Dice</button>
                <button class="enhanced-btn timer-btn" onclick="startTimer()">Start Timer</button>
                <button class="enhanced-btn stop-btn" onclick="stopTimer()">Stop Timer</button>
            `;
            document.getElementById('control-panel').innerHTML = controlHTML;
            
            // Setup category buttons
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    const category = btn.textContent;
                    const categoryTag = document.querySelector('.category-tag');
                    if (categoryTag) {
                        categoryTag.textContent = category;
                    }
                });
            });
        });

        // Enhanced dice roll function with progress tracking
        let rollCount = 0;
        
        function rollDice() {
            console.log('Test rollDice called');
            alert('Roll dice button clicked!'); // Temporary debug alert
            
            const dice = document.getElementById('dashboard-dice');
            const promptText = document.getElementById('dice-prompt-text');
            const resultDiv = document.getElementById('prompt-result');
            const progressTracker = document.getElementById('progress-tracker');
            const lottieContainer = document.getElementById('lottie-container');
            
            if (!dice) {
                console.log('No dice element found');
                return;
            }
            
            // Clear any existing classes
            dice.className = 'dice';
            
            // Show rolling state
            promptText.textContent = 'Rolling...';
            
            // Update progress
            rollCount++;
            if (progressTracker) {
                progressTracker.textContent = `Roll ${rollCount} of ${samplePrompts.length} prompts`;
            }
            
            // Use CSS animation
            dice.classList.add('rolling');
            
            // Stop rolling after animation
            setTimeout(() => {
                showDiceResult(dice, promptText, resultDiv, lottieContainer, progressTracker);
            }, 2500);
        }
        
        function showDiceResult(dice, promptText, resultDiv, lottieContainer, progressTracker) {
            // Randomly select a prompt
            const randomIndex = Math.floor(Math.random() * samplePrompts.length);
            const selectedPrompt = samplePrompts[randomIndex];
            
            // Calculate which face to show (1-6)
            const faceNumber = (randomIndex % 6) + 1;
            
            // Hide Lottie animation
            if (lottieContainer) {
                lottieContainer.classList.remove('visible');
            }
            
            // Remove rolling class and show result
            dice.classList.remove('rolling');
            dice.className = `dice show-${faceNumber}`;
            
            // Show result with fade-in effect
            fadeInText(promptText, selectedPrompt);
            fadeInText(resultDiv, selectedPrompt);
        }

        // Fade in text with smooth transition
        function fadeInText(element, text) {
            element.style.opacity = '0';
            element.textContent = text;
            
            setTimeout(() => {
                element.style.transition = 'opacity 0.5s ease';
                element.style.opacity = '1';
            }, 100);
        }

        // Show help tooltip
        function showHelp() {
            const helpText = `
                <div style="background: var(--paper-white); padding: 1.5rem; border-radius: 12px; box-shadow: var(--card-shadow); max-width: 400px; margin: 1rem;">
                    <h3 style="color: var(--warren-blue); margin-bottom: 1rem;">How to Use the Dice</h3>
                    <ul style="text-align: left; line-height: 1.6;">
                        <li><strong>Roll Dice:</strong> Click or press Spacebar to roll</li>
                        <li><strong>Start Timer:</strong> Begin a 60-second discussion timer</li>
                        <li><strong>Stop Timer:</strong> End the current timer</li>
                        <li><strong>Switch Categories:</strong> Choose different prompt types</li>
                    </ul>
                    <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-muted);">
                        Each roll selects a random prompt from the current category.
                    </p>
                </div>
            `;
            
            // Create a modal
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            modal.innerHTML = helpText;
            modal.onclick = () => document.body.removeChild(modal);
            
            document.body.appendChild(modal);
        }

        // Timer functions
        let currentTimer = null;
        
        function startTimer() {
            const duration = 60;
            
            if (currentTimer) {
                clearInterval(currentTimer);
            }
            
            let timeLeft = duration;
            const timerDisplay = document.getElementById('timer-display');
            const timerSection = document.getElementById('timer-section');
            
            timerSection.style.display = 'block';
            updateTimerDisplay(timeLeft);
            
            currentTimer = setInterval(() => {
                timeLeft--;
                updateTimerDisplay(timeLeft);
                
                if (timeLeft <= 0) {
                    clearInterval(currentTimer);
                    currentTimer = null;
                    showTimerNotification();
                    timerSection.style.display = 'none';
                }
            }, 1000);
        }
        
        function stopTimer() {
            if (currentTimer) {
                clearInterval(currentTimer);
                currentTimer = null;
            }
            
            const timerSection = document.getElementById('timer-section');
            timerSection.style.display = 'none';
        }
        
        function updateTimerDisplay(seconds) {
            const timerDisplay = document.getElementById('timer-display');
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
        }
        
        function showTimerNotification() {
            const notification = document.getElementById('timer-notification');
            notification.style.display = 'block';
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
    </script>
</body>
</html> 